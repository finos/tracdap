{
    "objectType": "FLOW",

    "tagUpdates": [
        {
            "attrName": "flow_type",
            "value": { "stringValue": "account_simulation" }
        },
        {
            "attrName": "portfolio",
            "value": { "stringValue": "credit_cards" }
        },
        {
            "attrName": "brand",
            "value": {"stringValue": "ACME Financial" }
        },
        {
            "attrName": "last_review_date",
            "value" : { "dateValue": { "isoDate": "2020-06-04" } }
        }
    ],

    "definition": {
    "flow": {

        "nodes": {

            "customer_accounts": {
                "nodeType": "INPUT_NODE"
            },

            "economic_scenario": {
                "nodeType": "INPUT_NODE"
            },

            "simulate_customer_transactions": {
                "nodeType": "MODEL_NODE",
                "modelStub": {
                    "inputs": [ "initial_accounts", "economic_scenario" ],
                    "outputs": [ "simulated_accounts" ],
                    "parameters": {
                        "number_of_months": { "basicType": "INTEGER" },
                        "include_promotions": { "basicType": "BOOLEAN" }
                    }
                }
            },

            "simulate_joiners_and_leavers": {
                "nodeType": "MODEL_NODE",
                "modelStub": {
                    "inputs": [ "initial_accounts" ],
                    "outputs": [ "simulated_accounts" ],
                    "parameters": {
                        "number_of_months": { "basicType": "INTEGER" },
                        "include_promotions": { "basicType": "BOOLEAN" }
                    }
                }
            },

            "simulated_accounts": {
                "nodeType": "OUTPUT_NODE"
            }
        },

        "edges": [

            {
                "to": { "node": "simulate_customer_transactions", "socket": "initial_accounts" },
                "from": { "node": "customer_accounts" }
            },

            {
                "to": { "node": "simulate_customer_transactions", "socket": "economic_scenario" },
                "from": { "node": "economic_scenario" }
            },

            {
                "to": { "node": "simulate_joiners_and_leavers", "socket": "initial_accounts" },
                "from": { "node": "simulate_customer_transactions", "socket": "simulated_accounts" }
            },

             {
                 "to": { "node": "simulated_accounts" },
                 "from": { "node": "simulate_joiners_and_leavers", "socket": "simulated_accounts" }
             }
        ]

    }}
}